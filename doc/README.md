# Документация

## Общая информация

Все ответы приходят в виде json.

Если запрос выполнен успешно:
```json
{
    "data": "any" // результат выполнения запроса
}
```

Если запрос выполнен с ошибкой:
```json
{
    "errors": [
        {
            "code": "number", // код ошибки
            "desc": "string"  // описание
        }
    ]
}
```

## Эндпоинты

### POST /api/cmd

Создание команды.

Тело запроса:
```json
{
    "script": "string" // sh скрипт
}
```
Результат:
```json
{
    "id": "number" // id команды
}
```

### GET /api/cmd/{id}

Получение команды по её id

Результат:
```js
{
    "id": "number",       // id команды
    "script": "string",   // скрипт команды
    "is_ended": "bool",   // закончилась ли команда
    "result": "string"    // результат выполнения (если команда не закончила выполнение, то результат будет промежуточный)  
}
```

### GET /api/cmd
Список всех команд.
Результат:
```js
[
    {
        "id": "number",    
        "script": "string", 
        "is_ended": "bool",  
        "result": "string"    
    }
]
```

### POST /api/cmd/{id}/kill

Остановка команды. Если нет работающей команды с заданным id, запрос завершится с ошибкой.

```js
{
    "id": "number",    
    "script": "string", 
    "is_ended": "bool", // всегда будет true
    "result": "string"    
}

```